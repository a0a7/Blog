import{S as Y,i as A,s as K,a as V,k as M,N as L,h as _,c as j,l as v,m as I,n as p,p as u,b as P,F as D,L as R,O as N,K as B,o as U,D as H,E as x,w as Q}from"../chunks/index.2b17dbc7.js";import{a as T}from"../chunks/paths.15660d0a.js";function C(t,r,s){const c=t.slice();return c[12]=r[s],c[14]=s,c}function F(t){let r,s,c,m,e,l,o;function f(...n){return t[8](t[14],...n)}return{c(){r=M("div"),s=M("div"),c=M("img"),e=V(),this.h()},l(n){r=v(n,"DIV",{class:!0,style:!0});var i=I(r);s=v(i,"DIV",{class:!0});var w=I(s);c=v(w,"IMG",{src:!0,alt:!0,class:!0,loading:!0,draggable:!0}),w.forEach(_),e=j(i),i.forEach(_),this.h()},h(){H(c.src,m=T+"/img/"+t[4][t[14]])||p(c,"src",m),p(c,"alt","Scrapbook memory "+(t[14]+1)),p(c,"class","w-64 h-auto object-contain pointer-events-none block"),p(c,"loading","lazy"),p(c,"draggable","false"),p(s,"class","bg-white p-4 shadow-xl border border-gray-200 hover:shadow-2xl transition-shadow duration-300"),p(r,"class","absolute select-none"),u(r,"left",t[12].x+"px"),u(r,"top",t[12].y+"px"),u(r,"transform","rotate("+t[12].rotation+"deg) scale("+t[12].scale+")"),u(r,"transform-origin","50% 50%"),u(r,"cursor",t[2]&&t[3]===t[14]?"grabbing":"grab"),u(r,"z-index",t[2]&&t[3]===t[14]?1e3:1),u(r,"will-change","transform")},m(n,i){P(n,r,i),x(r,s),x(s,c),x(r,e),l||(o=[D(c,"error",ee),D(r,"mousedown",f)],l=!0)},p(n,i){t=n,i&2&&u(r,"left",t[12].x+"px"),i&2&&u(r,"top",t[12].y+"px"),i&2&&u(r,"transform","rotate("+t[12].rotation+"deg) scale("+t[12].scale+")"),i&12&&u(r,"cursor",t[2]&&t[3]===t[14]?"grabbing":"grab"),i&12&&u(r,"z-index",t[2]&&t[3]===t[14]?1e3:1)},d(n){n&&_(r),l=!1,B(o)}}}function Z(t){let r,s,c,m,e=t[1],l=[];for(let o=0;o<e.length;o+=1)l[o]=F(C(t,e,o));return{c(){r=V(),s=M("div");for(let o=0;o<l.length;o+=1)l[o].c();this.h()},l(o){L("svelte-zs2w4p",document.head).forEach(_),r=j(o),s=v(o,"DIV",{class:!0,style:!0});var n=I(s);for(let i=0;i<l.length;i+=1)l[i].l(n);n.forEach(_),this.h()},h(){document.title="Scrapbook",p(s,"class","w-screen mx-auto relative pb-32"),u(s,"cursor",t[2]?"grabbing":"default"),u(s,"min-height",Math.max(1e3,t[1].length*S+600)+"px")},m(o,f){P(o,r,f),P(o,s,f);for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(s,null);t[9](s),c||(m=[D(window,"mousemove",t[6]),D(window,"mouseup",t[7])],c=!0)},p(o,[f]){if(f&62){e=o[1];let n;for(n=0;n<e.length;n+=1){const i=C(o,e,n);l[n]?l[n].p(i,f):(l[n]=F(i),l[n].c(),l[n].m(s,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=e.length}f&4&&u(s,"cursor",o[2]?"grabbing":"default"),f&2&&u(s,"min-height",Math.max(1e3,o[1].length*S+600)+"px")},i:R,o:R,d(o){o&&_(r),o&&_(s),N(l,o),t[9](null),c=!1,B(m)}}}const J=.975,$=300,S=100,ee=t=>t.target.style.display="none";function se(t,r,s){const c=["bild.png","stcloud.JPEG","wob.JPEG","interstate.JPEG"];let m,e=[],l=!1,o=-1,f={x:0,y:0};U(()=>{const h=m.getBoundingClientRect(),g=Math.min(h.width,9999);s(1,e=c.map((b,d)=>({id:d,x:g*.25+Math.random()*(g*.4),y:20+d*S+Math.random()*50,vx:0,vy:0,rotation:(Math.random()-.5)*20,scale:.9+Math.random()*.2,element:null})));const a=()=>{n(),requestAnimationFrame(a)};a()});function n(){if(l||!m)return;const h=m.getBoundingClientRect(),g=Math.min(h.width,9999);for(let a=0;a<e.length;a++){for(let d=a+1;d<e.length;d++){const E=e[d].x-e[a].x,k=e[d].y-e[a].y,y=Math.sqrt(E*E+k*k);if(y>0&&y<220){const q=$/Math.max(y,50),z=E/y*q,G=k/y*q*.5;s(1,e[a].vx-=z*.05,e),s(1,e[a].vy-=G*.05,e),s(1,e[d].vx+=z*.05,e),s(1,e[d].vy+=G*.05,e)}}s(1,e[a].vx*=J,e),s(1,e[a].vy*=J,e),s(1,e[a].x+=e[a].vx,e),s(1,e[a].y+=e[a].vy,e);const b=50;e[a].x<-b&&(s(1,e[a].x=-b,e),s(1,e[a].vx=Math.abs(e[a].vx)*.3,e)),e[a].x>g+b&&(s(1,e[a].x=g+b,e),s(1,e[a].vx=-Math.abs(e[a].vx)*.3,e)),e[a].y<20&&(s(1,e[a].y=20,e),s(1,e[a].vy=Math.abs(e[a].vy)*.3,e))}s(1,e)}function i(h,g){s(2,l=!0),s(3,o=g),f.x=h.clientX-e[g].x,f.y=h.clientY-e[g].y,s(1,e[g].vx=0,e),s(1,e[g].vy=0,e),h.preventDefault()}function w(h){!l||o===-1||(s(1,e[o].x=h.clientX-f.x,e),s(1,e[o].y=h.clientY-f.y,e),s(1,e),h.preventDefault())}function O(){s(2,l=!1),s(3,o=-1)}const W=(h,g)=>i(g,h);function X(h){Q[h?"unshift":"push"](()=>{m=h,s(0,m)})}return[m,e,l,o,c,i,w,O,W,X]}class ne extends Y{constructor(r){super(),A(this,r,se,Z,K,{})}}export{ne as component};
